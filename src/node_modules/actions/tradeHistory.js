import axios from 'axios'


export const GET__TRADE_HISTORY__LOADING = 'GET__TRADE_HISTORY__LOADING'
export const GET__TRADE_HISTORY__SUCCESS = 'GET__TRADE_HISTORY__SUCCESS'
export const GET__TRADE_HISTORY__ERROR = 'GET__TRADE_HISTORY__ERROR'


export const onGetTradeHistory = () => async dispatch => {
  dispatch({ type: GET__TRADE_HISTORY__LOADING })

  try {
    const urlConfig = 'currencyPair=BTC_NXT&start=1526990013&end=1526991013'
    const url = 'https://poloniex.com/public?command=returnTradeHistory&' + urlConfig;
    const dataTradeHistory = await axios.get(url).catch(error => { throw error })

    dispatch({
      type: GET__TRADE_HISTORY__SUCCESS,
      data: dataTradeHistory.data
    })
  } catch (error) {
    dispatch({
      type: GET__TRADE_HISTORY__ERROR
    })
  }
}